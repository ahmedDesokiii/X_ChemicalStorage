@using Microsoft.AspNetCore.Identity
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

<ul class="navbar-nav">

    @if (SignInManager.IsSignedIn(User))
    {
       
        <li class="nav-item">
            @* <a class="nav-link text-primary" asp-area="Identity" asp-page="/Account/Manage/Index" title="Manage"> @UserManager.GetUserAsync(User).Result.FullName_Ar</a> *@
            <a class="nav-link fs-6 link-offset-1-hover fw-bold mx-2" style="color:#415E72" href="#" title="Update profile data !">
                <i class="bi bi-person-circle fw-bold ms-2 fs-4" style="color:#415E72 !important"></i> @UserManager.GetUserAsync(User).Result.FullName
            </a> 
        </li>
        @*  @if (UserManager.GetUserAsync(User).Result.ProfilePicture != null)
    {
        <li class="nav-item">
            <img class="avatar  rounded-circle " alt="profile" src="data:image/*;base64,@(Convert.ToBase64String(UserManager.GetUserAsync(User).Result.ProfilePicture))" />
        </li>
    }
    <li class="nav-item">
        <a class="nav-link text-primary" asp-area="Identity" asp-page="/Account/Manage/Index" title="Manage"> @UserManager.GetUserAsync(User).Result.FullName</a>
    </li> *@

        <li class="nav-item">
            <form class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("index", "Home", new { area = "" })">
                <button type="submit" class=" btn btn-danger btn-sm rounded-3" style="font-size:16px !important">
                    Sign Out  <i class="bi bi-door-open-fill fs-5 pe-2"></i>
                </button>
            </form>
        </li>
    }
    else
    {
        @*  <li class="nav-item">
            <a class="btn  btn-secondary fs-6 m-1 btn-sm rounded-3" style="font-size:16px !important" asp-area="Identity" asp-page="/Account/Register">
                <i class="bi bi-person-circle fs-5 ps-2"></i>تسجيل
            </a>
        </li> *@
        <li class="nav-item">
            <a class="btn btn-outline-warning border-0 fw-bold fs-5 m-1 rounded-3" style="font-size:16px !important" asp-area="Identity" asp-page="/Account/Login">
               Log in <i class="bi bi-door-closed fs-5 ps-2"></i>
            </a>
        </li>
    }
</ul>

